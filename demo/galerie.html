<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galerie Photos & Vidéos - APEESFT</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header -->
    <header class="site-header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="index.html">
                        <img src="logo.jpeg" alt="APEESFT" class="logo-image" onerror="this.style.display='none'">
                    </a>
                </div>
                <nav class="main-nav">
                    <ul>
                        <li><a href="qui-sommes-nous.html">
                            <svg class="nav-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                            </svg>
                            Qui sommes-nous ?
                        </a></li>
                        <li><a href="adhesion.html">
                            <svg class="nav-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <line x1="16" y1="13" x2="8" y2="13"></line>
                                <line x1="16" y1="17" x2="8" y2="17"></line>
                                <polyline points="10 9 9 9 8 9"></polyline>
                            </svg>
                            Adhésion & Assurance
                        </a></li>
                        <li><a href="bilans.html">
                            <svg class="nav-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="18" y1="20" x2="18" y2="10"></line>
                                <line x1="12" y1="20" x2="12" y2="4"></line>
                                <line x1="6" y1="20" x2="6" y2="14"></line>
                            </svg>
                            Bilans & Transparence
                        </a></li>
                        <li><a href="nos-actions.html">
                            <svg class="nav-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                            </svg>
                            Nos actions
                        </a></li>
                        <li><a href="ressources.html">
                            <svg class="nav-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                                <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                            </svg>
                            Ressources
                        </a></li>
                        <li><a href="evenements.html">
                            <svg class="nav-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                            Événements
                        </a></li>
                        <li><a href="contact.html">
                            <svg class="nav-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                                <polyline points="22,6 12,13 2,6"></polyline>
                            </svg>
                            Contact
                        </a></li>
                    </ul>
                </nav>
                <div class="header-actions">
                    <a href="espace-adherents.html" class="login-btn">Login</a>
                    <button class="mobile-menu-toggle" aria-label="Menu mobile">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <section class="content-section">
        <div class="container">
            <h1 class="section-title">Galerie Photos & Vidéos</h1>
            
            <div style="max-width: 1200px; margin: 0 auto;">
                <!-- Filtres -->
                <div style="background: white; padding: 2rem; border-radius: 10px; box-shadow: 0 3px 15px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                    <div style="display: flex; gap: 1rem; flex-wrap: wrap; justify-content: center;">
                        <button class="gallery-filter-btn active" data-filter="all" style="padding: 0.75rem 1.5rem; background: var(--primary-color); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s ease;">
                            Tous
                        </button>
                        <button class="gallery-filter-btn" data-filter="activites" style="padding: 0.75rem 1.5rem; background: var(--bg-light); color: var(--text-dark); border: none; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s ease;">
                            Activités
                        </button>
                        <button class="gallery-filter-btn" data-filter="evenements" style="padding: 0.75rem 1.5rem; background: var(--bg-light); color: var(--text-dark); border: none; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s ease;">
                            Événements
                        </button>
                        <button class="gallery-filter-btn" data-filter="ateliers" style="padding: 0.75rem 1.5rem; background: var(--bg-light); color: var(--text-dark); border: none; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s ease;">
                            Ateliers
                        </button>
                        <button class="gallery-filter-btn" data-filter="videos" style="padding: 0.75rem 1.5rem; background: var(--bg-light); color: var(--text-dark); border: none; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s ease;">
                            Vidéos
                        </button>
                    </div>
                </div>
                
                <!-- Grille de galerie -->
                <div id="gallery-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 3rem;">
                    <!-- Les éléments de la galerie seront générés par JavaScript -->
                </div>
                
                <!-- Message si aucune image -->
                <div id="no-items-message" style="display: none; text-align: center; padding: 3rem; background: white; border-radius: 10px; box-shadow: 0 3px 15px rgba(0,0,0,0.1);">
                    <p style="color: var(--text-light); font-size: 1.1rem;">Aucun élément à afficher pour cette catégorie.</p>
                </div>
                
                <!-- Modal pour afficher les images/vidéos en grand -->
                <div id="gallery-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 10000; align-items: center; justify-content: center;">
                    <div style="position: relative; max-width: 90%; max-height: 90%;">
                        <button id="close-modal" style="position: absolute; top: -50px; right: 0; background: white; border: none; color: var(--text-dark); font-size: 2rem; width: 45px; height: 45px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; z-index: 10001;">
                            &times;
                        </button>
                        <button id="prev-item" style="position: absolute; left: -60px; top: 50%; transform: translateY(-50%); background: white; border: none; color: var(--text-dark); font-size: 1.5rem; width: 45px; height: 45px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; z-index: 10001;">
                            ‹
                        </button>
                        <button id="next-item" style="position: absolute; right: -60px; top: 50%; transform: translateY(-50%); background: white; border: none; color: var(--text-dark); font-size: 1.5rem; width: 45px; height: 45px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; z-index: 10001;">
                            ›
                        </button>
                        <div id="modal-content" style="text-align: center;"></div>
                        <div id="modal-info" style="position: absolute; bottom: -50px; left: 50%; transform: translateX(-50%); color: white; text-align: center;">
                            <div id="modal-title" style="font-weight: 600; font-size: 1.1rem; margin-bottom: 0.25rem;"></div>
                            <div id="modal-date" style="font-size: 0.9rem; opacity: 0.9;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo-section">
                    <div class="footer-logo">
                        <img src="logo.jpeg" alt="APEESFT" class="footer-logo-image">
                        <div class="footer-logo-text">
                            <h2>APEESFT</h2>
                            <p>Association des parents d'élèves des Établissements scolaires français en Tunisie</p>
                            <p style="margin-top: 0.5rem; font-size: 0.9rem; color: var(--text-light);">DEPUIS 1984</p>
                        </div>
                    </div>
                </div>
                <div class="footer-section">
                    <h3>Liens utiles</h3>
                    <a href="#">Code pénal tunisien</a>
                    <a href="#">Qu'est-ce que le harcèlement?</a>
                    <a href="#">Harcèlement scolaire au collège et au lycée</a>
                </div>
                <div class="footer-section">
                    <h3>Pages</h3>
                    <a href="index.html">Accueil</a>
                    <a href="#">Blog</a>
                    <a href="contact.html">Contact</a>
                </div>
                <div class="footer-section">
                    <h3>Contact</h3>
                    <p><strong>Email:</strong> cd@apeesft.org</p>
                    <p><strong>Adresse:</strong> 16 rue Othman Kaak au Lycée Gustave-Flaubert<br>2070 La Marsa, La Marsa, Tunisia</p>
                    <div class="social-icons">
                        <a href="https://www.facebook.com/Apeesft/?locale=fr_FR" target="_blank" class="social-icon facebook" aria-label="Facebook">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                            </svg>
                        </a>
                        <a href="https://www.instagram.com/apeesft" target="_blank" class="social-icon instagram" aria-label="Instagram">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 Ecole sans peur | By nuvorsys</p>
            </div>
        </div>
        <button class="scroll-to-top" aria-label="Retour en haut">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M18 15l-6-6-6 6"/>
            </svg>
        </button>
    </footer>

    <script src="js/main.js"></script>
    <style>
    .gallery-item {
        position: relative;
        overflow: hidden;
        border-radius: 10px;
        box-shadow: 0 3px 15px rgba(0,0,0,0.1);
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        background: var(--bg-light);
        aspect-ratio: 4/3;
    }

    .gallery-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 20px rgba(0,0,0,0.2);
    }

    .gallery-item img,
    .gallery-item video {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
    }

    .gallery-item .gallery-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
        padding: 1.5rem;
        color: white;
        transform: translateY(100%);
        transition: transform 0.3s ease;
    }

    .gallery-item:hover .gallery-overlay {
        transform: translateY(0);
    }

    .gallery-item .gallery-title {
        font-weight: 600;
        margin-bottom: 0.5rem;
    }

    .gallery-item .gallery-date {
        font-size: 0.9rem;
        opacity: 0.9;
    }

    .gallery-filter-btn.active {
        background: var(--primary-color) !important;
        color: white !important;
    }

    .gallery-filter-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }

    #close-modal:hover,
    #prev-item:hover,
    #next-item:hover {
        background: var(--primary-color) !important;
        color: white !important;
        transform: scale(1.1);
    }

    @media (max-width: 768px) {
        #gallery-grid {
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)) !important;
            gap: 1rem !important;
        }
        
        #prev-item,
        #next-item {
            display: none !important;
        }
        
        #close-modal {
            top: 10px !important;
            right: 10px !important;
        }
    }
    </style>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Données d'exemple (dans une vraie application, cela viendrait d'une base de données)
        // Pour l'instant, on utilise des placeholders. Les vraies images seront ajoutées plus tard.
        const galleryItems = [
            // Exemples - à remplacer par les vraies images
            { id: 1, type: 'image', category: 'activites', title: 'Atelier orientation', date: '15/10/2024', url: 'img/gallery/placeholder.jpg' },
            { id: 2, type: 'image', category: 'evenements', title: 'Assemblée Générale', date: '20/09/2024', url: 'img/gallery/placeholder.jpg' },
            { id: 3, type: 'image', category: 'ateliers', title: 'Atelier parents', date: '05/11/2024', url: 'img/gallery/placeholder.jpg' },
            { id: 4, type: 'video', category: 'videos', title: 'Présentation APEESFT', date: '01/09/2024', url: 'https://www.youtube.com/embed/dQw4w9WgXcQ' },
            { id: 5, type: 'image', category: 'activites', title: 'Sortie scolaire', date: '12/10/2024', url: 'img/gallery/placeholder.jpg' },
            { id: 6, type: 'image', category: 'evenements', title: 'Fête de l\'école', date: '25/05/2024', url: 'img/gallery/placeholder.jpg' },
        ];
        
        const galleryGrid = document.getElementById('gallery-grid');
        const filterButtons = document.querySelectorAll('.gallery-filter-btn');
        const modal = document.getElementById('gallery-modal');
        const modalContent = document.getElementById('modal-content');
        const modalTitle = document.getElementById('modal-title');
        const modalDate = document.getElementById('modal-date');
        const closeModal = document.getElementById('close-modal');
        const prevItem = document.getElementById('prev-item');
        const nextItem = document.getElementById('next-item');
        const noItemsMessage = document.getElementById('no-items-message');
        
        let currentFilter = 'all';
        let currentItems = [];
        let currentIndex = 0;
        
        function renderGallery(filter = 'all') {
            galleryGrid.innerHTML = '';
            noItemsMessage.style.display = 'none';
            
            currentItems = filter === 'all' 
                ? galleryItems 
                : galleryItems.filter(item => item.category === filter);
            
            if (currentItems.length === 0) {
                noItemsMessage.style.display = 'block';
                return;
            }
            
            currentItems.forEach((item, index) => {
                const galleryItem = document.createElement('div');
                galleryItem.className = 'gallery-item';
                galleryItem.dataset.category = item.category;
                galleryItem.dataset.index = index;
                
                if (item.type === 'image') {
                    galleryItem.innerHTML = `
                        <img src="${item.url}" alt="${item.title}" loading="lazy" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'300\' height=\'225\'%3E%3Crect fill=\'%23f0f0f0\' width=\'300\' height=\'225\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' text-anchor=\'middle\' dy=\'.3em\' fill=\'%23999\' font-family=\'sans-serif\' font-size=\'14\'%3EImage à venir%3C/text%3E%3C/svg%3E'">
                        <div class="gallery-overlay">
                            <div class="gallery-title">${item.title}</div>
                            <div class="gallery-date">${item.date}</div>
                        </div>
                    `;
                } else {
                    galleryItem.innerHTML = `
                        <div style="width: 100%; height: 100%; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); display: flex; align-items: center; justify-content: center; color: white; font-size: 4rem;">
                            ▶
                        </div>
                        <div class="gallery-overlay">
                            <div class="gallery-title">${item.title}</div>
                            <div class="gallery-date">${item.date}</div>
                        </div>
                    `;
                }
                
                galleryItem.addEventListener('click', () => {
                    currentIndex = index;
                    openModal(item);
                });
                galleryGrid.appendChild(galleryItem);
            });
        }
        
        function openModal(item) {
            modal.style.display = 'flex';
            
            if (item.type === 'image') {
                modalContent.innerHTML = `<img src="${item.url}" alt="${item.title}" style="max-width: 100%; max-height: 90vh; border-radius: 10px; box-shadow: 0 5px 30px rgba(0,0,0,0.5);" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'800\' height=\'600\'%3E%3Crect fill=\'%23f0f0f0\' width=\'800\' height=\'600\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' text-anchor=\'middle\' dy=\'.3em\' fill=\'%23999\' font-family=\'sans-serif\' font-size=\'24\'%3EImage à venir%3C/text%3E%3C/svg%3E'">`;
            } else {
                modalContent.innerHTML = `
                    <iframe 
                        width="800" 
                        height="450" 
                        src="${item.url}" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                        allowfullscreen
                        style="border-radius: 10px; box-shadow: 0 5px 30px rgba(0,0,0,0.5);">
                    </iframe>
                `;
            }
            
            modalTitle.textContent = item.title;
            modalDate.textContent = item.date;
            
            // Afficher/masquer les boutons de navigation
            prevItem.style.display = currentItems.length > 1 ? 'flex' : 'none';
            nextItem.style.display = currentItems.length > 1 ? 'flex' : 'none';
            
            document.body.style.overflow = 'hidden';
        }
        
        function closeModalFunc() {
            modal.style.display = 'none';
            modalContent.innerHTML = '';
            modalTitle.textContent = '';
            modalDate.textContent = '';
            document.body.style.overflow = '';
        }
        
        function navigateModal(direction) {
            if (direction === 'next') {
                currentIndex = (currentIndex + 1) % currentItems.length;
            } else {
                currentIndex = (currentIndex - 1 + currentItems.length) % currentItems.length;
            }
            openModal(currentItems[currentIndex]);
        }
        
        closeModal.addEventListener('click', closeModalFunc);
        prevItem.addEventListener('click', (e) => {
            e.stopPropagation();
            navigateModal('prev');
        });
        nextItem.addEventListener('click', (e) => {
            e.stopPropagation();
            navigateModal('next');
        });
        
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                closeModalFunc();
            }
        });
        
        // Navigation au clavier
        document.addEventListener('keydown', function(e) {
            if (modal.style.display === 'flex') {
                if (e.key === 'Escape') {
                    closeModalFunc();
                } else if (e.key === 'ArrowLeft') {
                    navigateModal('prev');
                } else if (e.key === 'ArrowRight') {
                    navigateModal('next');
                }
            }
        });
        
        filterButtons.forEach(btn => {
            btn.addEventListener('click', function() {
                filterButtons.forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentFilter = this.dataset.filter;
                renderGallery(currentFilter);
            });
        });
        
        renderGallery();
    });
    </script>
</body>
</html>
